!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Confere",[],t):"object"==typeof exports?exports.Confere=t():e.Confere=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=t.ConfereJs=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),i=r(o),l=n(3),f=r(l),s={realTime:!1,dateFormat:"yyyy-MM-dd",validators:f.default,rules:{}},d=function(){function e(t){var n=this;a(this,e),this.validators={},e.isFormElement(t.rules)?e.parseForm(t.rules,t):t.rules,this.options=Object.assign(s,t),Object.keys(t.rules).map(function(e){n.validators[e]={field:e,validators:[]}}),Object.keys(t.rules).map(function(e){t.rules[e].split("|").map(function(t){var r=t.split(":")[0],a=t.split(":").length>1?t.split(":")[1].split(","):[];"function"==typeof n.options.validators[r]?n.validators[e].validators.push(function(t){return n.options.validators[r](e,t,a,n.options)}):console.warn("Validator '"+r+"' is not registered, did you register correctly?")})})}return u(e,[{key:"settlePromises",value:function(e){return new Promise(function(t,n){var r=e.length,a={},u=function(){if(0==--r){var e=new Error("Some information is missing or incorrect");e.result=a,0!=Object.keys(a).length?n(e):t()}};e.forEach(function(e,t){"function"==typeof e.then?e.then(function(){u()}).catch(function(e){void 0===a[e.field]?a[e.field]=[e]:a[e.field].push(e),u()}):--r}),0===r&&u()})}},{key:"validate",value:function(t){var n=this;t=null==t||void 0===t?{}:t,t=e.isFormElement(this.options.form)?Object.assign(this.parseFormData(this.options.form),t):t;var r=[];return Object.keys(this.validators).map(function(e){var a=e,e=n.validators[e].validators;e.map(function(e){r.push(e(t[a]))})}),this.settlePromises(r)}},{key:"parseFormData",value:function(e){var t={};return Object.keys(e.elements).map(function(n){var r=e.elements[n].getAttribute("name"),a=e.elements[n].value;t[r]=a}),t}}],[{key:"getDefaults",value:function(){return s}},{key:"setDefaults",value:function(e){s=Object.assign(s,e)}},{key:"validator",value:function(e,t){s.validators[e]=t}},{key:"isFormElement",value:function(e){return e instanceof HTMLFormElement}},{key:"parseForm",value:function(e,t){t.form=e;for(var n={},r=0;r<e.elements.length;r++){var a=e.elements.item(r).getAttribute("name"),u=e.elements.item(r).dataset.rule;null!==a&&void 0!==a&&""!==a&&(n[a]=u)}t.rules=n}},{key:"isEmpty",value:function(e){var t=[void 0,null,"",{},[]],n=!0,r=!1,a=void 0;try{for(var u,o=t[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){if(e===u.value)return!0}}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return e instanceof Array&&0===e.length||e instanceof Object&&0===Object.keys(e).length}}]),e}();t.default=d,t.ConfereJs=d,t.ValidationError=i.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(e,n){r(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return u.field=e,u}return u(t,e),t}(Error);t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.validators=void 0;var a=n(0),u=r(a),o=n(1),i=r(o),l=n(4),f=r(l),s=n(6),d=r(s),c=n(7),m=r(c),h=Object.assign({required:function(e,t){return new Promise(function(n,r){void 0===t||null===t||""==t?r(new i.default(e,e+" field is required.")):n()})},boolean:function(e,t){return u.default.isEmpty(t)&&resolve(),new Promise(function(n,r){"true"!==t&&1!==t&&!0!==t&&"false"!==t&&0!==t&&!1!==t||n(),r(new i.default(e,e+" field must be boolean"))})}},f.default,d.default,m.default);t.default=h,t.validators=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),u=r(a),o=n(1),i=r(o),l=n(0),f=r(l);t.default={date:function(e,t,n,r){return new Promise(function(n,a){f.default.isEmpty(t)&&n(),u.default.isDate(t,r.dateFormat)&&n(),a(new i.default(e,e+" field is not a valid date"))})},after:function(e,t,n,r){return new Promise(function(a,o){f.default.isEmpty(t)&&a();var l=r.dateFormat;u.default.getDateFromFormat(t,l)>u.default.getDateFromFormat(n[0],l)&&a(),o(new i.default(e,e+" field should be after "+n[0]))})},after_or_equal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){f.default.isEmpty(t)&&a();var l=r.dateFormat;u.default.getDateFromFormat(t,l)>=u.default.getDateFromFormat(n[0],l)?a():o(new i.default(e,e+" field should be equal or greater than "+n[0]))})},before:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){f.default.isEmpty(t)&&a(),u.default.isDate(t,r.dateFormat)&&u.default.isDate(n[0],r.dateFormat)||a(),u.default.getDateFromFormat(t,r.dateFormat)<u.default.getDateFromFormat(n[0],r.dateFormat)&&a(),o(new i.default(e,e+" field must be a date before "+n[0]))})},before_or_equal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(a,o){f.default.isEmpty(t)&&a(),u.default.isDate(t,r.dateFormat)&&u.default.isDate(n[0],r.dateFormat)||a(),u.default.getDateFromFormat(t,r.dateFormat)<=u.default.getDateFromFormat(n[0],r.dateFormat)&&a(),o(new i.default(e,e+" field must be a date before or equal "+n[0]))})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return(e<0||e>9?"":"0")+e}function a(e,t){return 0!=f(e,t)}function u(e,t,n,r){var a=f(e,t),u=f(n,r);return 0==a||0==u?-1:a>u?1:0}function o(e,t){t+="";var n,a="",u=0,o="",i="",l=e.getYear()+"",f=e.getMonth()+1,c=e.getDate(),m=e.getDay(),n=e.getHours(),h=e.getMinutes(),p=e.getSeconds(),g=new Object;for(l.length<4&&(l=""+(l-0+1900)),g.y=""+l,g.yyyy=l,g.yy=l.substring(2,4),g.M=f,g.MM=r(f),g.MMM=s[f-1],g.NNN=s[f+11],g.d=c,g.dd=r(c),g.E=d[m+7],g.EE=d[m],g.H=n,g.HH=r(n),g.h=0==n?12:n>12?n-12:n,g.hh=r(g.h),g.K=n>11?n-12:n,g.k=n+1,g.KK=r(g.K),g.kk=r(g.k),g.a=n>11?"PM":"AM",g.m=h,g.mm=r(h),g.s=p,g.ss=r(p);u<t.length;){for(o=t.charAt(u),i="";t.charAt(u)==o&&u<t.length;)i+=t.charAt(u++);null!=g[i]?a+=g[i]:a+=i}return a}function i(e){for(var t="1234567890",n=0;n<e.length;n++)if(-1==t.indexOf(e.charAt(n)))return!1;return!0}function l(e,t,n,r){for(var a=r;a>=n;a--){var u=e.substring(t,t+a);if(u.length<n)return null;if(i(u))return u}return null}function f(e,t){e+="",t+="";for(var n,r,a=0,u=0,o="",i="",f=new Date,c=f.getYear(),m=f.getMonth()+1,h=1,p=f.getHours(),g=f.getMinutes(),v=f.getSeconds(),y="";u<t.length;){for(o=t.charAt(u),i="";t.charAt(u)==o&&u<t.length;)i+=t.charAt(u++);if("yyyy"==i||"yy"==i||"y"==i){if("yyyy"==i&&(n=4,r=4),"yy"==i&&(n=2,r=2),"y"==i&&(n=2,r=4),null==(c=l(e,a,n,r)))return 0;a+=c.length,2==c.length&&(c=c>70?c-0+1900:c-0+2e3)}else if("MMM"==i||"NNN"==i){m=0;for(var b=0;b<s.length;b++){var w=s[b];if(e.substring(a,a+w.length).toLowerCase()==w.toLowerCase()&&("MMM"==i||"NNN"==i&&b>11)){m=b+1,m>12&&(m-=12),a+=w.length;break}}if(m<1||m>12)return 0}else if("EE"==i||"E"==i)for(var b=0;b<d.length;b++){var M=d[b];if(e.substring(a,a+M.length).toLowerCase()==M.toLowerCase()){a+=M.length;break}}else if("MM"==i||"M"==i){if(null==(m=l(e,a,i.length,2))||m<1||m>12)return 0;a+=m.length}else if("dd"==i||"d"==i){if(null==(h=l(e,a,i.length,2))||h<1||h>31)return 0;a+=h.length}else if("hh"==i||"h"==i){if(null==(p=l(e,a,i.length,2))||p<1||p>12)return 0;a+=p.length}else if("HH"==i||"H"==i){if(null==(p=l(e,a,i.length,2))||p<0||p>23)return 0;a+=p.length}else if("KK"==i||"K"==i){if(null==(p=l(e,a,i.length,2))||p<0||p>11)return 0;a+=p.length}else if("kk"==i||"k"==i){if(null==(p=l(e,a,i.length,2))||p<1||p>24)return 0;a+=p.length,p--}else if("mm"==i||"m"==i){if(null==(g=l(e,a,i.length,2))||g<0||g>59)return 0;a+=g.length}else if("ss"==i||"s"==i){if(null==(v=l(e,a,i.length,2))||v<0||v>59)return 0;a+=v.length}else if("a"==i){if("am"==e.substring(a,a+2).toLowerCase())y="AM";else{if("pm"!=e.substring(a,a+2).toLowerCase())return 0;y="PM"}a+=2}else{if(e.substring(a,a+i.length)!=i)return 0;a+=i.length}}if(a!=e.length)return 0;if(2==m)if(c%4==0&&c%100!=0||c%400==0){if(h>29)return 0}else if(h>28)return 0;return(4==m||6==m||9==m||11==m)&&h>30?0:(p<12&&"PM"==y?p=p-0+12:p>11&&"AM"==y&&(p-=12),new Date(c,m-1,h,p,g,v).getTime())}Object.defineProperty(t,"__esModule",{value:!0});var s=["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];t.default={isDate:a,compareDates:u,formatDate:o,getDateFromFormat:f},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),u=r(a),o=n(0),i=r(o);t.default={min:function(e,t,n){return t=null===t||void 0===t?"":t,new Promise(function(r,a){i.default.isEmpty(t)&&r();var o=parseInt(n[0]);t.length<o?a(new u.default(e,e+" field must have at least "+o+" chars in length")):r()})},max:function(e,t,n){return t=null===t||void 0===t?"":t,new Promise(function(r,a){i.default.isEmpty(t)&&r();var o=parseInt(n[0]);t.length>o?a(new u.default(e,e+" field must not pass "+o+" chars in length")):r()})},email:function(e,t){return t=null===t||void 0===t?"":t,new Promise(function(n,r){i.default.isEmpty(t)&&n(),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)&&n(),r(new u.default(e,e+" is not a valid email"))})},alpha:function(e,t){return new Promise(function(n,r){i.default.isEmpty(t)&&n(),/^[A-z]+$/.test(t)&&n(),r(new u.default(e,e+" field only allows alphabet"))})},alpha_dash:function(e,t){return new Promise(function(n,r){i.default.isEmpty(t)&&n(),/^[a-zA-Z0-9-_]+$/.test(t)&&n(),r(new u.default(e,e+" field only allows alphabet, dash and underscore characters"))})},alpha_numeric:function(e,t){return new Promise(function(n,r){i.default.isEmpty(t)&&n(),/^[a-zA-Z0-9]*$/.test(t)&&n(),r(new u.default(e,e+" field must be alpha numeric"))})},between:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(r,a){i.default.isEmpty(t)&&r();var o=parseInt(n[0]),l=parseInt(n[1]),f=t.length;f>o&&f<l&&r(),a(new u.default(e,e+" field must be between "+o+" and "+l))})},url:function(e,t){return new Promise(function(n,r){i.default.isEmpty(t)&&n(),/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)&&n(),r(new u.default(e,e+" field must be a valid url"))})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),u=r(a),o=n(1),i=r(o);t.default={digits:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(r,a){u.default.isEmpty(t)&&r(),/^\d+$/.test(t)&&String(t).length==parseInt(n[0])&&r(),a(new i.default(e,e+" field must be digits with size = "+n[0]))})},digits_between:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(function(r,a){u.default.isEmpty(t)&&r(),/^\d+$/.test(t)&&String(t).length>parseInt(n[0])&&String(t).length<parseInt(n[1])&&r(),a(new i.default(e,e+" field must be digits with size between "+n[0]+" and "+n[1]))})},integer:function(e,t){return new Promise(function(n,r){u.default.isEmpty(t)&&n(),/^\d+$/.test(t)&&n(),r(new i.default(e,e+" field must be digits with size = "+params[0]))})}},e.exports=t.default}])});